(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8266],{34451:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var i=n(90581),r=n(27805),o=!n(79593).s&&n(36023),a=function(){function e(){(0,i.Z)(this,e)}var t=e.prototype;return t.decrypt=function(e){var t=e.encryptedString,n=e.classString;if(o){var i=JSON.parse(o.enc.Utf8.stringify(o.enc.Base64.parse(t))),r=o.enc.Hex.parse(i.iv),a=i.ciphertext,s=parseInt(i.iterations);s<=0&&(s=999);var c=this.encryptMethodLength/4,l=o.PBKDF2(n,"$2dioN4m4kxYzA0NDBlZDQ2NmMwODA5NTRlYWQ",{hasher:o.algo.SHA512,keySize:c/8,iterations:s});return o.AES.decrypt(a,l,{mode:o.mode.CBC,iv:r}).toString(o.enc.Utf8)}},t.encrypt=function(e){var t=e.string,n=e.classString;if(o){var i=o.lib.WordArray.random(16),r=o.lib.WordArray.random(256),a=this.encryptMethodLength/4,s=o.PBKDF2(n,r,{hasher:o.algo.SHA512,keySize:a/8,iterations:999}),c=o.AES.encrypt(t,s,{mode:o.mode.CBC,iv:i}),l={ciphertext:o.enc.Base64.stringify(c.ciphertext),iv:o.enc.Hex.stringify(i),salt:o.enc.Hex.stringify(r),iterations:999};return o.enc.Base64.stringify(o.enc.Utf8.parse(JSON.stringify(l)))}},(0,r.Z)(e,[{key:"encryptMethodLength",get:function(){return parseInt(this.encryptMethod.match(/\d+/)[0])}},{key:"encryptKeySize",get:function(){return parseInt((this.encryptMethodLength/8).toString())}},{key:"encryptMethod",get:function(){return"AES-256-CBC"}}]),e}()},78760:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var i=(0,n(1324).q)({url:function(e){var t=e.productId;return"/product/".concat(t,"/size-guide/")},transformer:function(e){var t=e.data||{};return{title:t.title,image:t.image,table:t.table}}})},56219:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var i=n(52322),r=n(72677);function o(e){var t=e.isSmall;return(0,i.jsx)("hr",{className:(0,r.d)("w-full bg-neutral-100 border-none",t?"h-[1px]":"h-2")})}},64378:function(e,t,n){"use strict";n.d(t,{d:function(){return S}});var i=n(66383),r=n(52322),o=n(2784),a=n(78760),s=n(33765),c=n(56219),l=n(42663),d=n(59198),u=n(57931),m=n(98780),p=n(19459),f=n(72873),v=n(64177),h=n(8830),x=n(75490),g=n(52216),b=n(72677),I=n(18022),w=n(31005),_=n(46100),y={COLORED:"colored",SIZED:"sized"};function j(e){var t=e.isOpen,n=e.onClose,i=e.theme,o=e.themeIndex,a=e.selectedTheme,s=e.availableValues,c=e.selectThemeValue,l=e.handleUnavailableThemeClick,d=i.type===y.COLORED,u=function(e){var t=(null==a?void 0:a.themeId)===e.themeId,i=s.some(function(t){return t.themeId===e.themeId});i&&!t?(c(o,e),null==n||n()):i?t&&(null==n||n()):l(o,e)};return(0,r.jsxs)(w.R,{isOpen:t,onClose:n,header:(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-start",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-h4-180",children:[(0,r.jsxs)("span",{children:[i.label,": ",null==a?void 0:a.themeTitle]}),d&&(null==a?void 0:a.themeHexCode)&&(0,r.jsx)("span",{className:"w-4 h-4 rounded-circle border-complete-200",style:{backgroundColor:a.themeHexCode}})]}),(0,r.jsxs)("span",{className:"text-body-1 text-icon-neutral-hint",children:["دارای ",(0,g.U)(i.values.length)," ",d?"رنگ":"اندازه"]})]})}),children:[(0,r.jsx)("hr",{className:"grow border-b-[#F5F5F5] border-solid border-x-0 border-t-0 border-n-300"}),(0,r.jsx)("div",{className:"px-4 py-4 flex flex-col w-full gap-4",children:(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:i.values.sort(function(e,t){var n=s.some(function(t){return t.themeId===e.themeId}),i=s.some(function(e){return e.themeId===t.themeId});return n&&!i?-1:!n&&i?1:0}).map(function(e){var t=e.themeTitle,n=e.themeHexCode,i=e.themeId,o=(null==a?void 0:a.themeId)===i,c=s.some(function(e){return e.themeId===i});if(d){var l=(0,_.RH)(n);return(0,r.jsx)("div",{className:(0,b.d)("py-0.5",{"cursor-pointer":c}),style:{opacity:c?1:.5},onClick:function(){return u(e)},children:(0,r.jsxs)("div",{className:(0,b.d)("select-none flex items-center justify-start gap-1.5 rounded-md pl-3 pr-2 whitespace-nowrap py-2 border-complete-200",{"!border-icon-high-emphasis":o,"!border-dashed !border-dark-neutral-600 bg-gradient-silver":!c}),children:[(0,r.jsx)("span",{className:"w-5 h-5 rounded-circle border-complete-200 flex justify-center items-center",style:{backgroundColor:n},children:o&&(0,r.jsx)(m.J,{icon:"done",size:14,color:l===_.cu?"white":"black"})}),(0,r.jsx)("span",{className:"text-body-1-180 whitespace-nowrap text-neutral-650",children:t})]})},i)}return(0,r.jsx)("div",{className:(0,b.d)("py-0.5",{"cursor-pointer":c}),style:{opacity:c?1:.5},onClick:function(){return u(e)},children:(0,r.jsx)("div",{className:(0,b.d)("select-none flex items-center justify-center gap-1.5 rounded-md border-complete-200 px-3 whitespace-nowrap py-2",{"!border-icon-high-emphasis":o,"!border-dashed !border-dark-neutral-600 bg-gradient-silver":!c}),children:(0,r.jsxs)("div",{className:"text-body-1-180 whitespace-nowrap text-neutral-650 min-w-[48px] text-center flex items-center justify-center gap-1",children:[o&&(0,r.jsx)(m.J,{icon:"done",size:16,color:"black"}),(0,r.jsx)("span",{className:"pt-1",children:t})]})})},i)})})})]})}var N={COLORED:"colored",SIZED:"sized"};function S(e){var t,n=e.product,w=(e.selectedVariantItem,e.productThemes),_=e.selectedThemes,y=e.selectThemeValue,S=e.getAvailableValuesForTheme,C=e.showSeparator,T=void 0===C||C,k=e.isBabyPDP,R=void 0!==k&&k,O=n||{},E=O.productId,D=O.productHasTrueToSize,P=O.productHasSizeGuide,z=(0,v.C)().isDesktop,A=(0,o.useRef)([]);(0,o.useEffect)(function(){A.current[1]&&_[0]&&A.current[1].scrollTo({left:0,behavior:"smooth"})},[null===(t=_[0])||void 0===t?void 0:t.themeId]);var Z=function(e,t){var n=document.getElementById(t);n&&n.scrollIntoView({block:"nearest",behavior:"auto",inline:"center"})};(0,o.useEffect)(function(){w.forEach(function(e,t){var n=_[t];(null==n?void 0:n.themeId)&&Z(t,n.themeId)})},[_,w]);var L=(0,i.Z)((0,o.useState)(null),2),V=L[0],U=L[1],M=function(e,t){U({isOpen:!0,themeIndex:e,themeData:t})},F=function(e,t){var n=w[e],i=0===e?1:0,r=w[i],o=_[i];n&&r&&o&&(0,x.p)({message:"این ".concat(n.label," در ").concat(r.label," ").concat(o.themeTitle," ناموجود است."),type:p._.SINGLE_LINE,autoHideDuration:3e3})},B=(0,h.R)({modalId:"size-guide"}),H=B.isOpen,q=B.onClose,W=B.onOpen,G=(0,f.V)({apiMethod:a.o,apiData:{productId:E},disabled:!H||!P}).data||{},K=G.image,J=G.title,Q=G.table,$=(0,f.V)({apiMethod:s.r,apiData:{productId:E},disabled:!D}).data,X=(null==$?void 0:$.trueToSizeReviewsTotalCount)>0;return 0===w.length?null:(0,r.jsxs)(r.Fragment,{children:[T&&(0,r.jsx)(c.D,{isSmall:!0}),(0,r.jsx)("div",{id:"pdp-variant",className:(0,b.d)("w-full flex flex-col gap-3 justify-center items-center",{"py-3":T}),children:w.map(function(e,t){if(0===e.values.length)return null;var n=S(t),i=_[t];return e.type===N.COLORED?(0,r.jsxs)("div",{className:"w-full flex flex-col gap-3 justify-center items-center pt-2",children:[(0,r.jsxs)("div",{className:(0,b.d)("w-full px-4 flex justify-between items-start gap-2",{"!px-0":R}),children:[(0,r.jsx)("span",{className:"flex",children:e.values.length>0&&i&&(0,r.jsx)("div",{className:"flex flex-col justify-center items-start gap-0.5","data-theme-animation":e.isMain?"":"colored-selected",children:(0,r.jsxs)("div",{className:"flex items-center gap-0.5 flex-wrap",children:[(0,r.jsxs)("span",{className:"text-h4-180",children:[e.label,":"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-h4-180",children:[(0,r.jsx)("span",{children:i.themeTitle}),(0,r.jsx)("span",{className:"w-4 h-4 rounded-circle border-complete-200",style:{backgroundColor:i.themeHexCode}})]})]})})}),e.values.length>10&&(0,r.jsxs)(u.z,{onClick:function(){return M(t,e)},appendIconClassName:"!mr-0",className:"mt-0.5 whitespace-nowrap min-w-fit",removePadding:!0,mode:"text",color:"black",appendIcon:"chevronLeft",children:["مشاهده ",(0,g.U)(e.values.length)," رنگ"]})]}),(0,r.jsx)("div",{className:"w-full",children:e.values.length>0&&(0,r.jsxs)("div",{className:"flex gap-2 overflow-auto hide-scrollbar w-full max-w-full",ref:function(e){return A.current[t]=e},children:[!R&&(0,r.jsx)("div",{className:"pr-2"}),e.values.sort(function(e,t){var i=n.some(function(t){return t.themeId===e.themeId}),r=n.some(function(e){return e.themeId===t.themeId});return i&&!r?-1:!i&&r?1:0}).map(function(e){var o=e.themeTitle,a=e.themeHexCode,s=e.themeId,c=(0,d.RH)(a),l=(null==i?void 0:i.themeId)===s,u=n.some(function(e){return e.themeId===s});return(0,r.jsx)("div",{className:(0,b.d)("py-0.5",{"cursor-pointer":u}),style:{opacity:u?1:.5},onClick:function(){u&&!l?y(t,e):u||F(t,e)},id:"".concat(s),children:(0,r.jsxs)("div",{className:(0,b.d)("select-none flex items-center justify-center gap-1.5 rounded-md pl-3 pr-2 whitespace-nowrap py-1.5 border-complete-200 min-w-[48px]",{"!border-icon-high-emphasis":l,"!border-dashed !border-dark-neutral-600 bg-gradient-silver":!u}),children:[(0,r.jsx)("span",{className:"w-5 h-5 rounded-circle border-complete-200 flex justify-center items-center",style:{backgroundColor:a},children:l&&(0,r.jsx)(m.J,{icon:"done",size:z?24:16,color:c===d.cu?"white":"black"})}),(0,r.jsx)("span",{className:"text-body-1-180 whitespace-nowrap text-neutral-650",children:o})]})},s)}),!R&&(0,r.jsx)("div",{className:"pr-2"})]})})]},t):(0,r.jsxs)("div",{className:"w-full flex flex-col gap-3 justify-center items-center pt-2",children:[(0,r.jsxs)("div",{className:(0,b.d)("w-full px-4 flex justify-between items-start",{"!px-0":R}),children:[(0,r.jsx)("span",{className:"flex",children:e.values.length>0&&i&&(0,r.jsx)("div",{className:"flex flex-col justify-center items-start gap-0.5","data-theme-animation":e.isMain?"":"sized-selected",children:(0,r.jsxs)("span",{className:"text-h4-180",children:[e.label,": ",i.themeTitle]})})}),e.values.length>10&&(0,r.jsxs)(u.z,{onClick:function(){return M(t,e)},appendIconClassName:"!mr-0",className:"mt-0.5 whitespace-nowrap min-w-fit",removePadding:!0,mode:"text",color:"black",appendIcon:"chevronLeft",children:["مشاهده ",(0,g.U)(e.values.length)," ",e.type===N.SIZED?"اندازه":e.label]})]}),(0,r.jsx)("div",{className:"w-full",children:e.values.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:function(e){return A.current[t]=e},className:"flex gap-2 overflow-auto hide-scrollbar w-full max-w-full",children:[!R&&(0,r.jsx)("div",{className:"pr-2"}),e.values.sort(function(e,t){var i=n.some(function(t){return t.themeId===e.themeId}),r=n.some(function(e){return e.themeId===t.themeId});return i&&!r?-1:!i&&r?1:(e.themeSortOrder||0)-(t.themeSortOrder||0)}).map(function(e){var o=e.themeTitle,a=e.themeId,s=(null==i?void 0:i.themeId)===a,c=n.some(function(e){return e.themeId===a});return(0,r.jsx)("div",{className:(0,b.d)("py-0.5",{"cursor-pointer":c}),style:{opacity:c?1:.5},onClick:function(){c&&!s?y(t,e):c||F(t,e)},id:"".concat(a),children:(0,r.jsx)("div",{className:(0,b.d)("select-none flex items-center justify-center gap-1.5 rounded-md border-complete-200 px-3 whitespace-nowrap py-1",{"!border-icon-high-emphasis":s,"!border-dashed !border-dark-neutral-600 bg-gradient-silver":!c}),children:(0,r.jsxs)("div",{className:"text-body-1-180 whitespace-nowrap text-neutral-650 min-w-[48px] text-center flex items-center justify-center gap-1",children:[s&&(0,r.jsx)(m.J,{icon:"done",size:16,color:"black"}),(0,r.jsx)("span",{className:"pt-1",children:o})]})})},a)}),!R&&(0,r.jsx)("div",{className:"pr-2"})]}),(P||X)&&e.type===N.SIZED&&(!e.isMain||e.isMain&&(1===w.length||w[1].type===N.COLORED))&&(0,r.jsxs)(u.z,{onClick:W,className:"lg:mt-4 mt-2 lg:px-0 px-4 text-hint-text-success !text-button-1-180",removePadding:!0,color:"success",mode:"text",children:[P?"راهنمای اندازه":"نظر خریدارها",(0,r.jsx)("div",{className:"mr-1 w-2 max-w-2 flex justify-center items-center object-cover",children:(0,r.jsx)(m.J,{icon:"chevronLeft",size:24,className:"mr-1.5 w-6 h-6",color:(0,l.$l)("color-hint-text-success")})})]})]})})]},t)})}),V&&(0,r.jsx)(j,{isOpen:V.isOpen,onClose:function(){U(null)},theme:V.themeData,themeIndex:V.themeIndex,selectedTheme:_[V.themeIndex],availableValues:S(V.themeIndex),selectThemeValue:y,handleUnavailableThemeClick:F}),(P||X)&&(0,r.jsx)(I.V,{isOpen:H,onClose:q,productSizeGuidImage:K,productSizeGuidTitle:J,productSizeGuidTable:Q,trueToSizeReviews:$,theme:w.find(function(e){return e.type===N.SIZED}),selectedTheme:_[w.findIndex(function(e){return e.type===N.SIZED})]})]})}},18022:function(e,t,n){"use strict";n.d(t,{V:function(){return h}});var i=n(66383),r=n(52322),o=n(2784),a=n(31005),s=n(98780),c=n(31909),l=n(50603),d=n(64177),u=n(41435),m=n(72677),p=n(31039),f=n(4556),v={SIZE_GUIDE:0,TRUE_TO_SIZE:1};function h(e){var t=e.isOpen,n=e.onClose,h=e.productSizeGuidImage,x=e.productSizeGuidTitle,g=e.productSizeGuidTable,b=e.trueToSizeReviews,I=e.theme,w=e.selectedTheme,_=(0,o.useRef)(null),y=(0,i.Z)((0,o.useState)(!1),2),j=y[0],N=y[1],S=(0,i.Z)((0,o.useState)(!1),2),C=S[0],T=S[1],k=(0,i.Z)((0,o.useState)(v.SIZE_GUIDE),2),R=k[0],O=k[1],E=(0,o.useRef)(),D=(0,d.C)().isDesktop,P=!!(g||h),z=(null==b?void 0:b.trueToSizeReviewsTotalCount)>0,A=P&&z,Z=b||{},L=Z.trueToSizeReviewsItems,V=Z.trueToSizeReviewsTotalCount;(0,o.useEffect)(function(){t&&O(v.SIZE_GUIDE)},[t]),(0,o.useEffect)(function(){var e,t;null===(e=E.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,!0)},[R]);var U=function(){var e=_.current;e&&e.scrollLeft<-50?(N(!0),T(!1)):N(!1)};(0,o.useEffect)(function(){var e=_.current;return e&&e.addEventListener("scroll",U),function(){e&&e.removeEventListener("scroll",U)}},[]);var M=function(){var e=_.current;e&&T(e.scrollWidth>e.clientWidth)},F=function(){var e=_.current;T(!1),e.scrollTo({left:-e.scrollWidth,top:0,behavior:"smooth"})};(0,o.useEffect)(function(){return M(),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}},[]);var B=[];P&&B.push({title:"راهنمای اندازه",id:v.SIZE_GUIDE}),z&&B.push({title:"نظر خریدارها",id:v.TRUE_TO_SIZE});var H=function(){return(0,r.jsxs)("div",{className:"relative hide-scrollbar max-h-[80vh] overflow-auto flex flex-col gap-5 w-full p-4",children:[h&&(0,r.jsx)(c.E,{src:h,alt:x,className:"w-full",imageClassName:"rounded-md"}),(0,r.jsx)("div",{className:"relative border-complete-200 rounded-md overflow-hidden",children:(0,r.jsxs)("div",{className:"w-full overflow-auto",ref:_,children:[(0,r.jsx)("div",{className:(0,m.d)("absolute left-0 top-0 h-full w-15","before:absolute before:inset-0 before:bg-gradient-to-l before:from-transparent before:to-white before:pointer-events-none",{"opacity-100":C,"opacity-0":!C}),children:C&&(0,r.jsx)("div",{onClick:F,className:"absolute p-1 w-7 h-7 rounded-full border-complete-200 bg-white flex justify-center items-center left-4 top-1/2 cursor-pointer",children:(0,r.jsx)(s.J,{icon:"chevronLeft",size:20,color:(0,p.$)("color-neutral-300")})})}),!(0,u.x)(g)&&(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsxs)("div",{className:(0,m.d)("absolute right-0 top-0 bg-white z-10",{"opacity-100":j,"opacity-0":!j}),children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{className:"bg-neutral-100 text-body1-strong py-1.5 px-7 text-center min-w-fit whitespace-nowrap",children:g[0][0]})}),(g||[]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0===t?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("tr",{className:(0,m.d)("text-body-1 text-center text-neutral-600",{"bg-app-background-dark":t%2==0}),children:(0,r.jsx)("td",{className:"py-1.5",children:e[0]})},t)})]}),(0,r.jsx)("tr",{children:(g[0]||[]).map(function(e,t){return(0,r.jsx)("th",{className:"bg-neutral-100 text-body1-strong py-1.5 px-7 text-center min-w-fit whitespace-nowrap",children:e},t)})}),(g||[]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0===t?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("tr",{className:(0,m.d)("text-body-1 text-center text-neutral-600",{"bg-app-background-dark":t%2==0}),children:e.map(function(e,t){return(0,r.jsx)("td",{className:"py-1.5",children:e},t)})},t)})]})]})})]})},q=function(){return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-body-2 mb-5 text-neutral-700",children:"از خریداران پرسیدیم آیا اندازه کالا طبق انتظارشان بود؟"}),(0,r.jsx)("div",{className:"pb-2 flex flex-col gap-2",children:null==L?void 0:L.map(function(e,t){return(0,r.jsx)(f.f,{trueToSizeItem:e,trueToSizeReviewsTotalCount:V},t)})})]})},W=function(){return A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"SIZE_GUIDE_MODAL_TAB_CONTAINER",className:"fixed sm:top-16 top-15 bg-white left-0 flex justify-around w-full overflow-auto hide-scrollbar border-t border-complete-t border-b border-complete-b z-10",children:B.map(function(e){return(0,r.jsxs)("div",{onClick:function(){return O(e.id)},className:(0,m.d)("relative text-body1-strong text-neutral-500 py-2 px-6 cursor-pointer whitespace-nowrap",{"!text-icon-high-emphasis":R===e.id}),children:[e.title,(0,r.jsx)("div",{className:(0,m.d)("bottom-0 absolute h-1 rounded-t",{"bg-black":R===e.id,"bg-none":R!==e.id}),style:{width:"calc(100% - 36px)",right:"18px"}})]},e.id)})}),(0,r.jsx)("span",{className:"block h-0 pt-9",ref:E}),R===v.SIZE_GUIDE&&H(),R===v.TRUE_TO_SIZE&&q()]}):P?H():z?q():(0,r.jsx)(r.Fragment,{})};return D?(0,r.jsx)(l.Modal,{isOpen:t,onDismiss:n,header:(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("span",{className:"text-h5 bg-neutral-000",children:"".concat(null==I?void 0:I.label,": ").concat(null==w?void 0:w.themeTitle)})}),footer:(0,r.jsx)("div",{className:"w-full rounded-lg bg-neutral-100 text-h5 flex justify-center items-center cursor-pointer py-3",onClick:n,children:"متوجه شدم"}),children:W()}):(0,r.jsx)(a.R,{isOpen:t,onClose:n,fixedHeight:A?.7:void 0,snapPoints:function(e){return[e.minHeight]},header:(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("span",{className:"text-h5 bg-neutral-000",children:"".concat(null==I?void 0:I.label,": ").concat(null==w?void 0:w.themeTitle)})}),footer:(0,r.jsx)("div",{className:"w-full rounded-lg bg-neutral-100 text-h5 flex justify-center items-center cursor-pointer py-3",onClick:n,children:"متوجه شدم"}),children:W()})}},36948:function(e,t,n){"use strict";n.d(t,{Bi:function(){return o},FK:function(){return i},Jx:function(){return s},QV:function(){return l},fr:function(){return c},n3:function(){return r},tA:function(){return a}});var i={SHORT_REVIEW_SECTION:"PdpShortReview",EXPERT_REVIEW:"expertReview",SPECIFICATION:"specification",COMMENT_SECTION:"commentSection",QUESTION_SECTION:"questionSection",TABULAR_RECOMMENDATION:"tabularRecommendation"},r="sellerSection",o="pdpFaq",a="comments_summary",s="title_summary",c="reviews",l="qa"},48766:function(e,t,n){"use strict";n.d(t,{$:function(){return w}});var i,r=n(47842),o=n(52322),a=n(48976),s=n(98780),c=n(31909),l=n(98723),d=n(64665),u=n(31222),m=n(93008),p=n(26442),f=n(42306),v=n(41435),h=n(82332),x=n(72677),g=n(31964),b=n.n(g),I=(i={},(0,r.Z)(i,m.eM.COMING_SOON,"به‌زودی"),(0,r.Z)(i,m.eM.OUT_OF_STOCK,"ناموجود"),(0,r.Z)(i,m.eM.IN_SUPPLY,"در‌حال تامین"),(0,r.Z)(i,m.eM.STOP_PRODUCTION,"توقف تولید"),i);function w(e){var t=e.title,n=e.testTitle,i=e.isFake,r=e.productCategoryTitle,g=e.productBrandCategoryUrl,w=e.productBrand,_=e.titleClassName,y=e.productStatus,j=w||{},N=j.brandIsNameSimilar,S=j.brandIsMiscellaneous,C=j.brandIsPremium,T=j.brandVisibility,k=j.brandLogo,R=j.brandCode,O=j.brandTitle,E=function(e){e.stopPropagation()},D=(0,f.d)(d.X.AB_TEST_OUT_OF_STOCK_PDP)&&!(0,h.t)(m.eM.MARKETABLE,y);return(0,o.jsxs)("div",{className:"flex items-center w-full px-5 lg:px-0",children:[k&&!S&&!!T&&C&&(0,o.jsx)(c.E,{width:52,height:52,src:k,className:"rounded hidden lg:inline-block ml-3",rounded:8,alt:O}),(0,o.jsxs)("div",{className:(0,x.d)({"w-full":D}),children:[i&&(0,o.jsx)(a.C,{className:(0,x.d)("inline-flex rounded-large",b().InfoSectionTitle__badge),size:"small",text:"غیراصل",type:"warning",textClasses:"text-caption-strong text-hint-text-caution"}),!!T&&(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsxs)("nav",{className:"flex items-center",children:[(0,o.jsx)(l.r,{to:(0,p.bR)({brandCode:R}),CROId:"pdp-breadcrumb-down",children:(0,o.jsx)("span",{className:"text-secondary-500 text-body1-strong",children:O})}),r&&(0,o.jsx)(l.r,{to:g,CROId:"pdp-breadcrumb-down",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("p",{className:"text-neutral-300 mx-2",children:" / "}),(0,o.jsx)("p",{className:"text-secondary-500 text-body1-strong",children:"".concat(r," ").concat(O)})]})})]}),N&&(0,o.jsxs)("div",{className:"flex text-neutral-500 items-center mr-3",children:[(0,o.jsx)(s.J,{icon:"infoOutline",className:"ml-1",size:16,color:"low-emphasis"}),(0,o.jsx)("p",{className:"text-body-2",children:N})]})]}),(0,o.jsxs)("h1",{className:(0,x.d)("text-h4 text-neutral-900 mb-2 pointer-events-none",{"w-full bg-[#FEF5F7] p-2 rounded-[6px] truncate text-h5":D},_),onClickCapture:E,onMouseDownCapture:E,onMouseUpCapture:E,"data-testid":u.i.PDP.TITLE,children:[D&&(0,o.jsx)("span",{className:"text-h4 text-primary-700 ml-3",children:I[y]}),(0,f.d)(d.X.PRODUCT_TITLE_TEST)&&!(0,v.x)(n)?n:t]})]})]})}},33765:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var i=n(1324),r=function(e){var t=e.data||{};return{trueToSizeItemKey:t.key,trueToSizeItemValue:t.value}},o=(0,i.q)({url:function(e){var t=e.productId;return"product/".concat(t,"/true-to-size/")},transformer:function(e){var t=e.data||{},n=t.total_count,i=t.values;return{trueToSizeReviewsIsFit:t.is_fit,trueToSizeReviewsTotalCount:n,trueToSizeReviewsItems:null==i?void 0:i.map(function(e){return r({data:e})})}}})},4556:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i=n(52322),r=n(46514),o=n(52216),a=n(72677),s=n(59810),c=n.n(s);function l(e){var t=e.trueToSizeReviewsTotalCount,n=e.trueToSizeItem||{},s=n.trueToSizeItemKey,l=n.trueToSizeItemValue;return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("p",{className:"text-neutral-700 w-6/12 text-body-2",children:r.Z[s]}),(0,i.jsxs)("div",{className:"flex justify-between items-center gap-2 w-6/12",children:[(0,i.jsxs)("div",{className:(0,a.d)("w-full relative",c().progress),children:[(0,i.jsx)("div",{className:"bg-neutral-100 z-1 absolute inset-0 rounded-small"}),(0,i.jsx)("div",{className:"z-2 absolute inset-0 rounded-small bg-secondary-500",style:{width:"".concat(l/t*100,"%")}})]}),(0,i.jsx)("p",{className:"text-caption",children:(0,o.U)(l)})]})]})}},32603:function(e,t,n){"use strict";n.d(t,{x:function(){return M}});var i=n(66383),r=n(52322),o=n(2784),a=n(59198),s=n(59437),c=n(57931),l=n(98780),d=n(31909),u=n(16330),m=n(38247),p=n(45756),f=n(72873),v=n(64177),h=n(8830),x=n(67576),g=n(65708),b=n(74808),I=n(75490),w=n(52216),_=n(41435),y=n(76778),j=n(72677),N=n(78760),S=n(18022),C=n(36948),T=n(33765),k=n(33469),R=n(47842),O=n(46100),E=n(46635),D=n.n(E);function P(e){var t=e.variantColor,n=e.selected,i=e.isAvailable,o=void 0===i||i,a=e.unAvailableMessage,s=t||{},c=s.colorHexCode,d=s.colorTitle,m=(0,j.d)("rounded-circle mx-auto border-complete lg:border-none flex items-center justify-center",D().InfoSectionVariationColorContent__main,(0,R.Z)({},D().InfoSectionVariationColorContent__unavailable,!o)),p=(0,O.RH)(c);return(0,r.jsx)(u.u,{tooltipClassName:(0,j.d)("py-0",{"bg-hint-text-error border-hint-object-error max-w-[375px]":!o}),position:"top",label:o?d:a,className:"whitespace-nowrap overflow-hidden ellipsis-1",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:(0,j.d)("rounded-circle flex items-center justify-center",D().InfoSectionVariationColorContent__iconWrapper),children:(0,r.jsx)("div",{style:{background:c},className:m,children:n&&(0,r.jsx)(l.J,{icon:"done",size:24,color:p===O.cu?"white":"black"})})})})})}var z=n(32373),A=n.n(z);function Z(e){var t,n=e.variantColor,i=e.selected,o=e.isAvailable,a=void 0===o||o,s=e.unAvailableMessage,c=e.onSelect,l=(0,j.d)("relative bg-neutral-000 flex items-center justify-center cursor-pointer ml-2 px-2 lg:px-0",A().InfoSectionVariationColor,(t={},(0,R.Z)(t,A().InfoSectionVariationColor__selected,i),(0,R.Z)(t,A().InfoSectionVariationColor__unavailable,!a),t));return(0,r.jsxs)("div",{className:l,onClick:function(){return c()},children:[(0,r.jsx)(P,{variantColor:n,selected:i,isAvailable:a,unAvailableMessage:s}),!a&&(0,r.jsx)("span",{className:(0,j.d)("absolute h-[1px] w-10 bg-dark-neutral-700 pointer-events-none",A().InfoSectionVariationColor__unavailable_line)})]})}var L=n(30459),V=n.n(L),U={COLORED:"colored",SIZED:"sized"};function M(e){var t,n,R=e.product,O=e.selectedVariantItem,E=e.productThemes,D=e.selectedThemes,P=e.selectThemeValue,z=e.setColorHasChanged,A=e.getAvailableValuesForTheme,L=e.className,M=e.isBabyPDP,F=R||{},B=F.productId,H=F.productHasTrueToSize,q=F.productHasSizeGuide,W=(0,v.C)().isDesktop,G=R||{},K=G.productRatingRate,J=G.productRatingCount,Q=G.productCommentsCount,$=G.productCommentsSummery,X=G.productQuestionsCount,Y=G.productTitleEn,ee=(0,i.Z)((0,o.useState)(null),2);ee[0],ee[1];var et=(0,x.j)(),en=et.animationTrigger,ei=et.triggerAnimation,er=(0,x.j)(),eo=er.animationTrigger,ea=er.triggerAnimation,es=(0,o.useRef)(null),ec=(0,o.useRef)(null),el=(0,o.useRef)((null==D?void 0:D[1])&&D[1].themeId||void 0),ed=(0,o.useRef)(null!==(n=null==O?void 0:O.productVariantPriceSellingPrice)&&void 0!==n?n:null),eu=(0,i.Z)((0,o.useState)(!1),2),em=eu[0],ep=eu[1],ef=(0,i.Z)((0,o.useState)(!1),2),ev=ef[0],eh=ef[1],ex=(0,i.Z)((0,o.useState)(!1),2),eg=ex[0],eb=ex[1],eI=(0,o.useRef)(null);(0,o.useEffect)(function(){var e=function(){eI.current&&eh(eI.current.scrollHeight>330)};e();var t=new ResizeObserver(e);return eI.current&&t.observe(eI.current),function(){return t.disconnect()}},[E,D]);var ew=function(e,t){var n=E[e],i=0===e?1:0,r=E[i],o=D[i];n&&r&&o&&(0,I.p)({message:"این ".concat(n.label," در ").concat(r.label," ").concat(o.themeTitle," ناموجود است."),type:"SingleLine",autoHideDuration:3e3})},e_=(0,h.R)({modalId:"size-guide"}),ey=e_.isOpen,ej=e_.onClose,eN=e_.onOpen,eS=function(e,t){if(es.current=e,E.length>=2&&0===e){var n,i=(A(1)||[]).map(function(e){return null==e?void 0:e.themeId});ec.current=i,el.current=null==D?void 0:null===(n=D[1])||void 0===n?void 0:n.themeId}P(e,t),z(t)},eC=function(){(0,g.dk)({productId:B,sectionName:g.b$.COMMENTS,navigationType:g.OQ.TOUCH_POINT_CLICK}),(0,y.X5)(C.FK.COMMENT_SECTION),(0,b.Pw)({type:"title_tp",productId:B})};(0,o.useEffect)(function(){var e,t=null!==(e=null==O?void 0:O.productVariantPriceSellingPrice)&&void 0!==e?e:null;null!=t&&null!=ed.current&&t!==ed.current&&ea(),ed.current=t},[O]),(0,o.useEffect)(function(){if(0===es.current&&E.length>=2){var e,t,n=ec.current,i=(A(1)||[]).map(function(e){return null==e?void 0:e.themeId}),r=el.current,o=null==D?void 0:null===(e=D[1])||void 0===e?void 0:e.themeId;n&&(n.length!==i.length||n.some(function(e){return!i.includes(e)})||i.some(function(e){return!n.includes(e)})||r!==o)&&ei(),es.current=null,ec.current=null,el.current=null==D?void 0:null===(t=D[1])||void 0===t?void 0:t.themeId}},[D]);var eT=(0,f.V)({apiMethod:N.o,apiData:{productId:B},disabled:!ey||!q}).data||{},ek=eT.image,eR=eT.title,eO=eT.table,eE=(0,f.V)({apiMethod:T.r,apiData:{productId:B},disabled:!H}).data,eD=(null==eE?void 0:eE.trueToSizeReviewsTotalCount)>0,eP=function(){eb(!eg),eg&&(0,y.X5)("pdp-variant",-330,300)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"pdp-variant",className:(0,j.d)("w-full flex flex-col gap-3 justify-center items-start",L),children:[!M&&W&&Y&&(0,r.jsx)("div",{className:"items-center flex",children:(0,r.jsx)("span",{className:"text-neutral-300 ml-2 text-body-2",children:Y})}),(0,r.jsx)("div",{className:"bg-neutral-200 grow h-[1px] w-full"}),(!!K&&(M||W)||!!K&&!W||!(0,_.x)(null==$?void 0:$.commentSummaryOverview)||Q>0||X>0)&&(0,r.jsxs)("div",{className:"w-full flex items-center flex-wrap",children:[!!K&&(M||W)&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.E,{height:16,width:16,src:"/statics/img/png/star-yellow.png",alt:"امتیاز"}),(0,r.jsx)("p",{className:"mr-1 text-body-2",children:(0,w.U)(K)}),(0,r.jsxs)("p",{className:"mr-1 text-caption text-neutral-300 whitespace-nowrap",children:["(امتیاز ",(0,w.U)(J)," خریدار)"]})]}),!M&&(0,r.jsx)("div",{className:"lg:w-unset w-full lg:overflow-hidden overflow-x-auto hide-scrollbar px-5 lg:px-1.5",children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5 w-full",children:[!!K&&!W&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.E,{height:16,width:16,src:"/statics/img/png/star-yellow.png",alt:"امتیاز"}),(0,r.jsx)("p",{className:"mr-1 text-body1-strong text-icon-high-emphasis",children:(0,w.U)(K)}),(0,r.jsxs)("p",{className:"mr-1 text-body-1 text-icon-neutral-hint",children:["(",(0,w.U)(J),")"]})]}),!(0,_.x)(null==$?void 0:$.commentSummaryOverview)&&(0,r.jsxs)(r.Fragment,{children:[!W&&(0,r.jsx)(k.j,{productCommentsOverview:$,isOpen:em,onClose:function(){ep(!1)}}),(0,r.jsx)(s.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:W?eC:function(){ep(!0)},CROId:p.h.PDP_COMMENTS_ABOVEFOLD,className:"cursor-pointer py-1",children:(0,r.jsxs)("span",{className:(0,j.d)("flex item-center text-body2-strong pr-2 pl-2 text-icon-high-emphasis rounded-lg whitespace-nowrap",V().VariantInfo__summeryBage),children:[(0,r.jsx)(l.J,{className:"items-center ml-1",icon:"cube-action-ai-all",color:"ai",size:16}),"خلاصه دیدگاه‌ها"]})})]}),Q>0&&(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(s.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:eC,CROId:p.h.PDP_COMMENTS_ABOVEFOLD,className:"cursor-pointer py-1",children:(0,r.jsxs)("span",{className:"bg-gradient-silver flex item-center text-body2-strong pr-2 pl-1 text-icon-high-emphasis rounded-lg whitespace-nowrap",children:[(0,w.U)(Q)," دیدگاه",(0,r.jsx)(l.J,{className:"items-center",icon:"cube-nav-chevron-left",size:16})]})})}),X>0&&(0,r.jsx)(s.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:function(){(0,g.dk)({productId:B,sectionName:g.b$.QUESTIONS,navigationType:g.OQ.TOUCH_POINT_CLICK}),(0,y.X5)(C.FK.QUESTION_SECTION),(0,b.y0)({type:"title_tp",productId:B})},CROId:p.h.PDP_QUESTIONS_ABOVEFOLD,className:"cursor-pointer py-1 pl-5",children:(0,r.jsxs)("span",{className:"bg-gradient-silver flex item-center text-body2-strong pr-2 pl-1 text-icon-high-emphasis rounded-lg whitespace-nowrap",children:[(0,w.U)(X)," پرسش",(0,r.jsx)(l.J,{className:"items-center",icon:"cube-nav-chevron-left",size:16})]})})]})})]}),E.length>0&&(0,r.jsx)("div",{className:"w-full flex flex-col gap-5 pt-2",children:E.map(function(e,t){if(0===e.values.length)return null;var n=A(t),i=D[t];return e.type===U.COLORED?(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("div",{className:"w-full flex justify-between items-start gap-4",children:(0,r.jsx)("span",{className:"flex",children:e.values.length>0&&i&&(0,r.jsx)("div",{className:"flex flex-col justify-center items-start gap-0.5","data-theme-animation":e.isMain?"":"colored-selected",children:(0,r.jsxs)("div",{className:"flex items-center gap-0.5 flex-wrap",children:[(0,r.jsxs)("span",{className:"text-h5-180",children:[e.label,": "]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-h5-180",children:[(0,r.jsx)("span",{children:i.themeTitle}),(0,r.jsx)("span",{className:"w-4 h-4 rounded-circle border-complete-200",style:{backgroundColor:i.themeHexCode}})]})]})})})}),(0,r.jsx)("div",{className:"w-full",children:e.values.length>0&&(0,r.jsx)("div",{className:"flex gap-2 flex-wrap",children:e.values.map(function(o){var s,c,l=o.themeTitle,d=o.themeHexCode,u=o.themeId;(0,a.RH)(d);var m=(null==i?void 0:i.themeId)===u,p=n.some(function(e){return e.themeId===u});return(0,r.jsx)("div",{className:(0,j.d)("py-0.5",{"cursor-pointer":p}),id:"".concat(u),children:(0,r.jsx)(Z,{variantColor:{colorHexCode:d,colorTitle:l,colorId:u},unAvailableMessage:"این ".concat(e.label," در ").concat(null==E?void 0:null===(s=E[0===t?1:0])||void 0===s?void 0:s.label," ").concat(null==D?void 0:null===(c=D[0===t?1:0])||void 0===c?void 0:c.themeTitle," ناموجود است."),selected:m,isAvailable:p,onSelect:function(){p&&!m?eS(t,o):p||ew(t,o)}})},u)})})})]},t):(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"w-full flex justify-between items-start",children:[(0,r.jsx)("span",{className:"flex",children:e.values.length>0&&i&&(0,r.jsx)("div",{className:"flex flex-col justify-center items-start gap-0.5","data-theme-animation":e.isMain?"":"sized-selected",children:(0,r.jsxs)("span",{className:"text-h5-180",children:[e.label,": ",i.themeTitle]})})}),(q||eD)&&e.type===U.SIZED&&(!e.isMain||e.isMain&&(1===E.length||E[1].type===U.COLORED))&&(0,r.jsx)(c.z,{onClick:eN,className:"lg:mt-0 mt-2 lg:px-0 px-4 text-hint-text-success !text-button-1-180",removePadding:!0,color:"secondary",mode:"text",children:q?"راهنمای اندازه":"نظر خریدارها"})]}),(0,r.jsx)("div",{className:"w-full",children:e.values.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{ref:eI,className:(0,j.d)("flex gap-x-3 gap-y-2 flex-wrap overflow-hidden relative mb-4 p-0.5",{"max-h-[330px]":!eg,"h-auto max-h-auto":eg}),children:[e.values.sort(function(e,t){var i=n.some(function(t){return t.themeId===e.themeId}),r=n.some(function(e){return e.themeId===t.themeId});return i&&!r?-1:!i&&r?1:(e.themeSortOrder||0)-(t.themeSortOrder||0)}).map(function(o){var a,s,c=o.themeTitle,d=o.themeId,m=(null==i?void 0:i.themeId)===d,p=n.some(function(e){return e.themeId===d});return(0,r.jsx)(u.u,{tooltipClassName:(0,j.d)("py-0",{"bg-hint-text-error border-hint-object-error max-w-[375px]":!p}),position:"top",hasTooltip:!p,label:"این ".concat(e.label," در ").concat(null==E?void 0:null===(a=E[0===t?1:0])||void 0===a?void 0:a.label," ").concat(null==D?void 0:null===(s=D[0===t?1:0])||void 0===s?void 0:s.themeTitle," ناموجود است."),children:(0,r.jsx)("div",{className:(0,j.d)("py-0.5",{"cursor-pointer":p}),style:{opacity:p?1:.5},onClick:function(){p&&!m?eS(t,o):p||ew(t,o)},children:(0,r.jsx)("div",{className:(0,j.d)("select-none flex items-center justify-center gap-1.5 rounded-md border-complete-200 px-3 whitespace-nowrap py-1 min-w-fit",{"!border-secondary-500 !border-[2px] -mx-[1px]":m,"mt-[1px]":!m,"!border-dashed !border-dark-neutral-600 bg-gradient-silver":!p}),children:(0,r.jsxs)("div",{className:"text-body-1-180 whitespace-nowrap text-neutral-650 min-w-[48px] text-center flex items-center justify-center gap-1 min-w-fit",children:[m&&(0,r.jsx)(l.J,{icon:"done",size:16,color:"secondary"}),(0,r.jsx)("span",{className:"pt-1",children:c})]})})},d)})}),ev&&(0,r.jsx)("div",{onClick:eP,className:(0,j.d)("flex justify-center items-center gap-4 bottom-0 left-0 w-full flex justify-center",{"absolute pt-7":!eg,"relative mt-2":eg}),style:{background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%,rgba(255, 255, 255, 0.72) 10%, #FFFFFF 100%)"},children:(0,r.jsx)(c.z,{onClick:eP,mode:"outlined",color:"black",className:"!bg-white !border-neutral-200",appendIcon:eg?"chevronUp":"chevronDown",children:eg?"بستن  ".concat(e.label,"ها"):"مشاهده  ".concat(e.label,"ها")})})]})})})]},t)})}),(0,r.jsx)(m.J,{targetSelectors:E.length>=2&&E[1]?["colored"===E[1].type?'[data-theme-animation="colored-selected"]':'[data-theme-animation="sized-selected"]']:[],trigger:en}),(0,r.jsx)(m.J,{targetSelectors:['[data-theme-animation="price-container"]'],trigger:eo})]}),(q||(null==eE?void 0:eE.trueToSizeReviewsTotalCount)>0&&(null==eE?void 0:null===(t=eE.trueToSizeReviewsItems)||void 0===t?void 0:t.length)>0)&&(0,r.jsx)(S.V,{isOpen:ey,onClose:ej,productSizeGuidImage:ek,productSizeGuidTitle:eR,productSizeGuidTable:eO,trueToSizeReviews:eE,theme:E.find(function(e){return e.type===U.SIZED}),selectedTheme:D[E.findIndex(function(e){return e.type===U.SIZED})]})]})}},73429:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var i=(0,n(1324).q)({url:function(e){var t=e.overviewId;return"comments-overview/".concat(t,"/user-feedback/")},transformer:function(e){var t=(e.data||{}).user_reaction;return{commentSummeryReaction:null==t?void 0:t[0]}}})},33469:function(e,t,n){"use strict";n.d(t,{j:function(){return x}});var i=n(66383),r=n(52322),o=n(2784),a=n(41435),s=n(38113),c=n(70865),l=n(96670),d=n(50930),u=n(50603),m=n(72873),p=n(73429),f=n(98662),v={showPros:!1,showCons:!1,showAiDescription:!1,showActions:!1,showReaction:!1};function h(e){var t=e.isOpen,n=e.onClose,a=e.commentSummaryData,h=e.cardHeight,x=(0,o.useRef)(v),g=(0,i.Z)((0,o.useState)(""),2),b=g[0],I=g[1],w=(0,i.Z)((0,o.useState)([]),2),_=w[0],y=w[1],j=(0,i.Z)((0,o.useState)([]),2),N=j[0],S=j[1],C=(0,i.Z)((0,o.useState)(!1),2),T=C[0],k=C[1],R=(0,i.Z)((0,o.useState)(!1),2),O=R[0],E=R[1],D=a||{},P=D.commentSummaryOverview,z=D.commentSummaryAdvantages,A=D.commentSummaryDisadvantages,Z=D.commentSummaryOverviewId,L=(0,m.V)({apiMethod:p.c,apiData:{overviewId:Z},disabled:!Z||!t}).data,V=(0,o.useMemo)(function(){var e=null==P?void 0:P.split("\n"),t=[];return e.forEach(function(e){var n=e.split(" ");n.length>1&&(t=t.concat(n,"\n"))}),t},[P,Z]);(0,o.useEffect)(function(){if(t&&!T){var e=0,n=setInterval(function(){I(function(t){var n="\n"===V[e]?"\n":"".concat(V[e]," ");return e+=1,"".concat(t).concat(n)}),e===V.length-1&&(x.current=(0,l.Z)((0,c.Z)({},x.current),{showPros:!0}),clearInterval(n))},35),i=-1,r=setInterval(function(){x.current.showPros&&(y(function(e){return(0,d.Z)(e).concat([z[i]])}),(i+=1)===(null==z?void 0:z.length)-1&&(x.current=(0,l.Z)((0,c.Z)({},x.current),{showPros:!1,showCons:!0}),clearInterval(r)))},500),o=-1,a=setInterval(function(){x.current.showCons&&(S(function(e){return(0,d.Z)(e).concat([A[o]])}),(o+=1)>=(null==A?void 0:A.length)-1&&(x.current=(0,l.Z)((0,c.Z)({},x.current),{showCons:!1,showAiDescription:!0,showReaction:!0}),clearInterval(a)))},500);return function(){k(!0),clearInterval(n),clearInterval(r),clearInterval(a)}}},[t]),(0,o.useEffect)(function(){if(O){var e=function(){I(P),y(z),S(A),x.current={showActions:!0,showAiDescription:!0,showCons:!0,showPros:!0,showReaction:!0}},t=setTimeout(function(){e()},500);return function(){clearTimeout(t)}}},[O]);var U=function(){b.length<P.length&&(k(function(){return!0}),E(!0)),t&&n()};return(0,o.useEffect)(function(){return window.addEventListener("popstate",U),function(){window.removeEventListener("popstate",U)}},[]),(0,r.jsx)(u.Modal,{shouldCloseOnPageChange:!1,isOpen:t,onDismiss:U,headerTitle:(0,r.jsx)(f._,{}),headerHideBottomBorder:!0,children:(0,r.jsx)(s.e,{height:h,commentSummaryAdvantages:_,commentSummaryDisadvantages:N,commentSummaryOverView:b,commentSummaryReaction:L.commentSummeryReaction,commentSummaryID:Z,showAiDescription:x.current.showAiDescription,showReaction:x.current.showReaction})})}function x(e){var t=e.isOpen,n=e.onClose,c=e.productCommentsOverview,l=(0,o.useRef)(null),d=(0,i.Z)((0,o.useState)(null),2),u=d[0],m=d[1];return(0,o.useEffect)(function(){if(c){var e;m(Math.min(null===(e=l.current)||void 0===e?void 0:e.offsetHeight,null==window?void 0:window.innerHeight))}},[c]),(0,r.jsxs)(r.Fragment,{children:[!(0,a.x)(c)&&(0,r.jsx)("div",{ref:l,className:"absolute z-[-999] invisible",children:(0,r.jsx)(s.e,{commentSummaryAdvantages:null==c?void 0:c.commentSummaryAdvantages,commentSummaryDisadvantages:null==c?void 0:c.commentSummaryDisadvantages,commentSummaryOverView:null==c?void 0:c.commentSummaryOverview,commentSummaryID:null==c?void 0:c.commentSummaryOverviewId,showAiDescription:!0,commentSummaryReaction:"like",showReaction:!0})}),!(0,a.x)(c)&&(0,r.jsx)(h,{isOpen:t,onClose:n,commentSummaryData:c,cardHeight:u})]})}},98662:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var i=n(52322),r=n(68970),o=n(72677);function a(e){var t=e.className;return(0,i.jsxs)("div",{className:(0,o.d)(t,"flex items-center"),children:[(0,i.jsx)(r.$,{animationFileName:"ai.lottie",autoplay:!0,loop:!0,className:"w-[40px] h-[40px]"}),(0,i.jsxs)("div",{className:"mr-2",children:[(0,i.jsx)("div",{className:"text-h5",children:"خلاصه دیدگاه‌های خریدارها"}),(0,i.jsx)("div",{className:"text-caption-strong-compact text-neutral-400",children:"تولید شده با هوش مصنوعی"})]})]})}},38113:function(e,t,n){"use strict";n.d(t,{e:function(){return N}});var i=n(66383),r=n(52322),o=n(2784),a=n(59437),s=n(31909),c=n(64177),l=n(41435),d=n(72677),u=n(68970),m=n(98780),p=n(5632),f=n(11559),v=n(74808),h=n(6662),x=n(82332),g=n(45227),b=(0,n(1324).q)({url:function(e){var t=e.commentsOverviewId;return"comments-overview/".concat(t,"/feedback/")},type:g.XN.POST,transformer:function(e){return{feedback:(e.data||{}).feed_back}},inputTransformer:function(e){return{type:e.type}}}),I={LIKE:"like",DISLIKE:"dislike",NEUTRAL:"neutral"};function w(e){var t,n,a,s,c,l,d,g,w,_,y=e.commentSummaryReaction,j=e.commentSummaryOverviewID,N=(0,i.Z)((0,o.useState)(!1),2),S=N[0],C=N[1],T=(a=(t={userReaction:y,summaryId:j}).userReaction,s=t.summaryId,l=(c=(0,i.Z)((0,o.useState)(a),2))[0],d=c[1],g=(0,p.useRouter)(),w=(0,h.V)(null===(n=g.query.productParams)||void 0===n?void 0:n[0]),(0,o.useEffect)(function(){d(a)},[a]),_=(0,f.E)({apiMethod:b,onSuccess:function(e){d((e||{}).feedback)}}).request,{isLiked:(0,x.t)(l,I.LIKE),isDisliked:(0,x.t)(l,I.DISLIKE),onLike:function(){_({commentsOverviewId:s,type:I.LIKE}).then(function(){(0,v.DP)("Like",w)})},onDislike:function(){_({commentsOverviewId:s,type:I.DISLIKE}).then(function(){(0,v.DP)("Dislike",w)})}}),k=T.isDisliked,R=T.isLiked,O=T.onDislike,E=T.onLike;return(0,o.useEffect)(function(){if(S){var e=setTimeout(function(){C(!1)},1e3);return function(){clearTimeout(e)}}},[S]),(0,r.jsxs)("div",{className:"mt-2 pb-5 flex items-center",children:[(0,r.jsx)("div",{className:"text-body-1",children:"آیا این خلاصه برایتان مفید بود؟"}),(0,r.jsxs)("div",{className:"flex items-center mr-auto lg:mr-4",children:[(0,r.jsx)("div",{className:"rounded-circle h-9 w-9 flex items-center justify-center bg-neutral-100",children:S?(0,r.jsx)(u.$,{animationFileName:"like-animation.lottie",autoplay:!0,className:"w-9 h-9"}):(0,r.jsx)(m.J,{icon:R?"cube-action-feedback-like-fill":"cube-action-feedback-like",size:20,onClick:function(){R||C(!0),E()}})}),(0,r.jsx)("div",{className:"mr-5 rounded-circle h-9 w-9 flex items-center justify-center bg-neutral-100",children:(0,r.jsx)(m.J,{icon:k?"cube-action-feedback-dislike-fill":"cube-action-feedback-dislike",size:20,onClick:O})})]})]})}function _(e){var t=e.icon,n=e.color,i=e.label,o=e.className;return(0,r.jsxs)("div",{className:(0,d.d)("flex items-center border-complete-200 px-1 py-1 w-fit rounded-lg",o),children:[(0,r.jsx)(m.J,{icon:t,color:n,size:16}),(0,r.jsx)("span",{className:"text-caption mr-1 ml-2 whitespace-nowrap",children:i})]})}var y=n(46188),j=n.n(y);function N(e){var t=e.height,n=e.commentSummaryOverView,u=e.commentSummaryAdvantages,m=e.commentSummaryDisadvantages,p=e.commentSummaryReaction,f=e.commentSummaryID,v=e.showAiDescription,h=e.showReaction,x=e.tailClassName,g=e.className,b=(0,c.C)().isDesktop,I=(0,i.Z)((0,o.useState)(!b),2),y=I[0],N=I[1];return(0,r.jsxs)("div",{className:g,style:{height:void 0===t?"unset":t},children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.E,{src:b?"/statics/img/svg/tail-comment-summary-desktop.svg":"/statics/img/svg/tail-comment-summary.svg",width:22,height:16,className:(0,d.d)("absolute",void 0===x?"top-17 right-12 -z-1":x)})}),(0,r.jsx)("div",{className:(0,d.d)("p-4 rounded-lg",b?j().bodyBg:"bg-ai-background"),children:(0,r.jsxs)("div",{className:"text-body-1",children:[(0,r.jsx)("div",{className:(0,d.d)("whitespace-pre-wrap",y?"mb-4":"ellipsis-3"),children:n}),!y&&b&&(0,r.jsx)(a.e,{mode:"anchor",label:"مشاهده بیشتر",className:"mb-4 underline underline-offset-8",color:"black",hasArrowIcon:!1,onClick:function(){return N(!0)}}),b?(0,r.jsxs)("div",{className:"flex mb-2 flex-wrap gap-x-1 gap-y-2",children:[!(0,l.x)(u)&&u.map(function(e){return(0,r.jsx)(_,{label:e,icon:"cube-content-check-fill",color:"success"},e)}),!(0,l.x)(m)&&m.map(function(e){return(0,r.jsx)(_,{label:e,icon:"cube-content-remove-fill",color:"error"},e)})]}):(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("div",{className:"flex mb-2 flex-wrap gap-x-1 gap-y-2",children:!(0,l.x)(u)&&u.map(function(e,t){return(0,r.jsx)(_,{label:e,icon:"cube-content-check-fill",color:"success"},e)})}),(0,r.jsx)("div",{className:"flex mb-2 flex-wrap gap-x-1 gap-y-2",children:!(0,l.x)(m)&&m.map(function(e,t){return(0,r.jsx)(_,{label:e,icon:"cube-content-remove-fill",color:"error"},e)})})]}),void 0!==v&&v&&(0,r.jsx)("div",{className:"text-caption text-neutral-500",children:"این خلاصه ممکن است دقیق نباشد"})]})}),void 0!==h&&h&&(0,r.jsx)(w,{commentSummaryReaction:p,commentSummaryOverviewID:f})]})}},36041:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var i=n(79968),r=n(50020);function o(e){var t=e.data;if((0,r.k)(t))return{};var n=t.discount_percent,o=t.timer,a=t.url,s=t.title,c=t.description;return{shippingFeePromotionUrl:(0,i.f)({data:a}),shippingFeePromotionTimer:o,shippingFeePromotionDiscountPercent:n,shippingFeePromotionTitle:s,shippingFeePromotionDescription:c}}},26141:function(e,t,n){"use strict";n.d(t,{e:function(){return N}});var i=n(70865),r=n(96670),o=n(73587),a=n(60036),s=n(98884),c=n(90917),l=n(2213),d=n(45507),u=n(70582),m=n(35825),p=n(9642),f=n(79968),v=n(2130),h=n(12694),x=n(64248),g=n(29890),b=n(34451),I=n(83632),w="item-center align-center flex".split(" ").map(function(e){return e.split("-").length}).join(""),_=n(36041),y=n(91390),j=n(29954);function N(e){var t,n,N,S,C,T,k,R,O,E,D,P,z,A,Z,L,V,U,M,F,B,H,q,W,G,K,J,Q,$,X,Y,ee,et,en,ei,er,eo,ea,es,ec=e.data||{},el=ec.product,ed=ec.flat_shipping_badge,eu=ec.recommendations,em=ec.seo,ep=ec.promotion_banner,ef=ec.dynamic_touch_points,ev=ec.bigdata_tracker_data,eh=ec.shipping_fee_discount,ex=ec.dynamic_pdp_carousel,eg=ec.dk_service,eb=el||{},eI=eb.digify_touchpoint,ew=eb.images,e_=eb.variants_images,ey=eb.videos,ej=eb.suggestion,eN=eb.size_guide,eS=eb.default_variant,eC=eb.second_default_variant,eT=eb.variants,ek=eb.questions_count,eR=eb.comments_count,eO=eb.comments_overview,eE=eb.last_questions,eD=eb.specifications,eP=eb.meta,ez=eb.tags,eA=eb.size,eZ=eb.breadcrumb,eL=eb.category,eV=eb.brand,eU=eb.last_comments,eM=eb.review,eF=eb.expert_reviews,eB=eb.is_inactive,eH=eb.st_cmp_tacker,eq=eb.has_size_guide,eW=eb.has_offline_shop_stock,eG=function(e){var t=e.data;if((null==t?void 0:t.neo.length)===Number(w))try{var n=new b.i,i="".concat(t.zero).concat(t.dx).concat(t.cx).concat(t["data-fx"]),r=n.decrypt({encryptedString:i,classString:"function T(e){var t=e.children.filter(function(e){return e.leaf});return t.map(function(e){return e.data.content})}"}).split("-"),o=r[2],a=r[3],s=a[r[1]];a=a.slice(0,+r[1])+a.slice(+r[1]+1),s+=a[r[5]],a=a.slice(0,+r[5])+a.slice(+r[5]+1),s+=a[r[6]],a=a.slice(0,+r[6])+a.slice(+r[6]+1),s+=a[r[0]],a=a.slice(0,+r[0])+a.slice(+r[0]+1),s+=a[r[4]],a=a.slice(0,+r[4])+a.slice(+r[4]+1);var c=n.decrypt({encryptedString:a,classString:s.split("").reverse().join("")});return{imageIndex:Number(o),image:{url:"".concat(c,"?x-oss-process=image/resize,m_lfit,h_800,w_800/quality,q_90"),webp_url:"".concat(c,"?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90")}}}catch(l){(0,I.g)("failed-studio",{error:l})}}({data:eH}),eK=null==ew?void 0:null===(t=ew.list)||void 0===t?void 0:t.map(function(e,t){return(null==eG?void 0:eG.imageIndex)===t?(0,u.W)({data:eG.image}):(0,u.W)({data:e})}),eJ={image:(0,u.W)({data:null==e_?void 0:e_.main}),variantIds:null==e_?void 0:null===(n=e_.main)||void 0===n?void 0:n.variant_ids},eQ=null==e_?void 0:null===(N=e_.list)||void 0===N?void 0:N.map(function(e,t){return(null==eG?void 0:eG.imageIndex)===t?{image:(0,u.W)({data:null==eG?void 0:eG.image}),variantIds:null==e?void 0:e.variant_ids}:{image:(0,u.W)({data:e}),variantIds:null==e?void 0:e.variant_ids}}),e$=(0,x.Y)({product:(0,h.s)((0,r.Z)((0,i.Z)({},(0,o.r)({skipDefaultVariant:!0,data:el})),{productDigifyTouchpoint:eI,productFlatShippingBadge:ed,productImagesList:eK,productVariantImagesList:eQ,productVariantMainImage:eJ,productBreadcrumb:(null==eZ?void 0:null===(S=eZ.map)||void 0===S?void 0:S.call(eZ,function(e){return(0,s.W)({data:e})}))||[],productVideos:null===(C=Object.values(ey||{}))||void 0===C?void 0:C.map(function(e){return{videoUrl:null==e?void 0:e.url,videoCover:null==e?void 0:e.cover,videoTitle:null==e?void 0:e.title}}),productSizes:eA||[],productSizeGuidImage:null==eN?void 0:eN.image,productSizeGuidTable:null==eN?void 0:eN.table,productSizeGuidTitle:null==eN?void 0:eN.title,productDefaultVariant:(0,i.Z)({},(0,v.o)({prefix:"product",data:eS}),(0,v.o)({data:eS}),(0,y.j)({data:null==eS?void 0:eS.seller,prefix:"productVariant"})),productSecondDefaultVariant:void 0!==eC?(0,i.Z)({},(0,v.o)({prefix:"product",data:eC}),(0,v.o)({data:eC}),(0,y.j)({data:null==eC?void 0:eC.seller,prefix:"productVariant"})):void 0,productVariants:(null==eT?void 0:eT.map(function(e){return(0,i.Z)({},(0,v.o)({prefix:"product",data:e}),(0,v.o)({data:e}),(0,y.j)({data:null==e?void 0:e.seller,prefix:"productVariant"}))}))||[],productCategory:(0,c.n)({data:eL}),productHasSizeGuide:eq,productHasOfflineShopStock:eW,productBrand:(0,a.Q)({data:eV})||{},productQuestionsCount:ek||null,productCommentsCount:eR||null,productSuggestionCount:(null==ej?void 0:ej.count)||null,productSuggestionPercentage:(null==ej?void 0:ej.percentage)||null,productCommentsSummery:(W=(q=eO||{}).overview,G=q.advantages,K=q.disadvantages,{commentSummaryOverviewId:q.id,commentSummaryOverview:W,commentSummaryAdvantages:G,commentSummaryDisadvantages:K}),productIsInactive:eB||null,productShortReview:(Q=(J=eF||{}).technical_properties,$=J.short_review,X=J.description,Y=J.admin_rates,et=(ee=Q||{}).advantages,en=ee.disadvantages,{technicalPropertiesAdvantages:Object.values(et||{}),technicalPropertiesDisAdvantages:Object.values(en||{}),productDescription:$||X,adminRates:Y}),productReviewSections:null==(er=(eF||{}).review_sections)?void 0:null===(ei=er.map)||void 0===ei?void 0:ei.call(er,function(e){var t=e||{},n=t.title,i=t.sections;return{reviewSectionTitle:n,reviewSections:null==i?void 0:i.map(function(e){var t,n,i,r;return n=(t=e||{}).template,i=t.image,r=t.text,{reviewSectionTemplate:n,reviewSectionImage:(0,u.W)({data:i}),reviewSectionText:r}})}}),productReview:null==eM?void 0:null===(T=eM.attributes)||void 0===T?void 0:T.map(function(e){return{productReviewAttrTitle:null==e?void 0:e.title,productReviewAttrValues:null==e?void 0:e.values}}),productSpecifications:null==eD?void 0:null===(eo=eD.map)||void 0===eo?void 0:eo.call(eD,function(e){var t,n=e||{},i=n.title,r=n.attributes;return{specificationTitle:i,specificationAttributes:null==r?void 0:null===(t=r.map)||void 0===t?void 0:t.call(r,function(e){var t;return{specificationAttributeTitle:(t=e||{}).title,specificationAttributeValues:t.values}})}}),productBrandCategoryUrl:(0,f.f)({data:null==eP?void 0:eP.brand_category_url}),productLastComments:null==eU?void 0:null===(k=eU.map)||void 0===k?void 0:k.call(eU,function(e){return(0,l.T)({data:e})}),productLastQuestions:null==eE?void 0:null===(R=eE.map)||void 0===R?void 0:R.call(eE,function(e){return(0,d.v)({data:e})}),productTags:ez?null==ez?void 0:null===(O=ez.map)||void 0===O?void 0:O.call(ez,function(e){return(0,j.p)({data:e})}):{}})),recommendationsData:(0,g.k)(eu)&&(null===(E=eu||[])||void 0===E?void 0:E.map(function(e){return(0,m.v)({data:e})}))||[],relatedProducts:(0,m.v)({data:null==eu?void 0:eu.related_products}),alsoBoughtProducts:(0,m.v)({data:null==eu?void 0:eu.also_bought_products}),dynamicCarousel:{title:(ea=ex||{}).title,products:Object.values(ea.products||{}).map(function(e){return(0,o.r)({data:e})})},dkService:{description:(es=eg||{}).description,minPrice:es.min_price,maxPrice:es.max_price,hasInstallation:es.has_installation,serviceID:es.service_id},seoData:(0,p.m)({data:em}),touchPoints:ef?null==ef?void 0:null===(D=ef.map)||void 0===D?void 0:D.call(ef,function(e){var t,n,i,r,o;return n=(t=e||{}).touch_point_id,i=t.link,r=t.desktop,o=t.mobile,{touchPointBannerId:t.id,touchPointId:n,touchPointLink:i,touchPointImageDesktop:(0,u.W)({data:r}),touchPointImageMobile:(0,u.W)({data:o})}}):null,shippingFeePromotion:(0,_.L)({data:eh}),pdpPromotionBanner:{productPromotion:{background:null==ep?void 0:null===(P=ep.product_promotion)||void 0===P?void 0:P.background,url:null==ep?void 0:null===(z=ep.product_promotion)||void 0===z?void 0:z.url,aspectRation:null==ep?void 0:null===(A=ep.product_promotion)||void 0===A?void 0:A.aspect_ratio},dkjetPromotion:{bannerUrl:null==ep?void 0:null===(Z=ep.dkjet_promotion)||void 0===Z?void 0:Z.url,bannerDesktop:null==ep?void 0:null===(L=ep.dkjet_promotion)||void 0===L?void 0:L.desktop_banner,bannerMobile:null==ep?void 0:null===(V=ep.dkjet_promotion)||void 0===V?void 0:V.mobile_banner},voucherBanner:{voucherIcon:null==ep?void 0:null===(U=ep.product_promotion)||void 0===U?void 0:U.icon_url,voucherBackgroundColor:null==ep?void 0:null===(M=ep.product_promotion)||void 0===M?void 0:M.background_color,voucherTitle:null==ep?void 0:null===(F=ep.product_promotion)||void 0===F?void 0:F.title,voucherDescription:null==ep?void 0:null===(B=ep.product_promotion)||void 0===B?void 0:B.description,voucherCode:null==ep?void 0:null===(H=ep.product_promotion)||void 0===H?void 0:H.voucher_code}}});return e$.bigDataTrackerData=ev,e$}},91390:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var i=n(70865),r=n(96670),o=n(60036),a=n(73587),s=n(82382),c=n(64248);function l(e){var t,n,l=e.prefix,d=e.data,u=d||{},m=u.description,p=u.properties,f=u.rating,v=u.registration_date,h=u.stars,x=u.products,g=u.statistics,b=u.logo,I=f||{},w=I.commitment,_=I.no_return,y=I.on_time_shipping,j=I.total_count,N=I.total_rate,S=I.neutral,C=I.dissatisfied,T=I.satisfied,k=I.totally_dissatisfied,R=I.totally_satisfied,O=g||{},E=O.cancellation,D=O.return,P=O.ship_on_time;return(0,c.Y)((0,r.Z)((0,i.Z)({},(0,s.N)({data:d})),{sellerDescription:m,sellerPropertiesIsNew:null==p?void 0:p.is_new,sellerPropertiesOfficialBrands:null===(t=Object.values((null==p?void 0:p.official_brands)||{}))||void 0===t?void 0:null===(n=t.map)||void 0===n?void 0:n.call(t,function(e){return(0,o.Q)({data:e})}),sellerRatingCommitment:w,sellerRatingNoReturn:_,sellerRatingOnTimeShipping:y,sellerRatingTotalCount:j,sellerRatingTotalRate:N,sellerRatingTotallySatisfiedRatingRate:(null==R?void 0:R.rate)||0,sellerRatingSatisfiedRatingRate:(null==T?void 0:T.rate)||0,sellerRatingNeutralRatingRate:(null==S?void 0:S.rate)||0,sellerRatingDissatisfiedRatingRate:(null==C?void 0:C.rate)||0,sellerRatingTotallyDissatisfiedRatingRate:(null==k?void 0:k.rate)||0,sellerRegistrationDate:v,sellerStars:h,sellerProducts:null==x?void 0:x.map(function(e){return(0,a.r)({data:e})}),sellerStatisticsCancellation:E||w,sellerStatisticsReturn:D||_,sellerStatisticsShipOnTime:P||y,sellerLogo:b}),{prefix:l})}},29954:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(79968);function r(e){var t=e.data||{},n=t.name,r=t.url;return{tagName:n,tagUrl:(0,i.f)({data:r})||""}}},54272:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var i=n(52322),r=n(98780),o=n(66212),a=n(31222),s=n(72762),c=n(52216),l=n(72677),d=n(5759);function u(e){var t,n,u,m,p=e.price,f=e.sellingPrice,v=e.discountPercent,h=e.iconSize,x=e.iconColor,g=e.valueSuffix,b=e.disableFormat,I=e.payablePriceTextClassName,w=e.priceTextClassName,_=e.className,y=e.priceInfo,j=(0,d.h)(v)&&0!==v,N=(0,l.d)("flex justify-start relative",{"flex-col items-end":j},_),S=(0,l.d)("ml-1",{"text-neutral-800":!I,"text-h4-compact":j&&!I},I),C=(0,l.d)({"line-through":j,"text-body-2":j&&!w,"text-h4":!j&&!w,"ml-1":!w,"text-neutral-300":!w&&j,"text-neutral-800":!w&&!j},w);return(0,i.jsxs)("div",{className:N,children:[(0,i.jsxs)("div",{className:"flex items-center justify-end w-full gap-1","data-theme-animation":"price-container",children:[y,(0,i.jsx)("span",{className:C,"data-testid":a.i.PRODUCT_PRICE.NO_DISCOUNT,children:b?(0,c.U)(p):(0,s.j)(p)}),(0,i.jsx)(o._,{className:"shrink-0 mr-1 mb-1",value:v})]}),(0,i.jsx)("div",{className:"flex flex-row items-center",children:g?(0,i.jsx)("span",{className:(0,l.d)("mr-1",w),"data-testid":a.i.PRODUCT_PRICE.FINAL,children:g}):(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)("span",{className:S,"data-testid":a.i.PRODUCT_PRICE.FINAL,children:(0,s.j)((n=(t={price:p,discountPercent:v,sellingPrice:f}).price,u=t.discountPercent,(m=t.sellingPrice)?m:u?n-n*u:n))}),(0,i.jsx)(r.J,{icon:"toman",size:void 0===h?14:h,color:x})]})})]})}},38247:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var i=n(2784),r=n(64177),o=n(72677);function a(e){var t=e.targetSelectors,n=e.trigger,a=e.className,s=(0,i.useRef)(),c=(0,i.useRef)([]),l=(0,i.useRef)(!1),d=(0,i.useRef)(0),u=(0,r.C)().isDesktop,m=(0,i.useCallback)(function(){c.current.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),c.current=[]},[]),p=(0,i.useCallback)(function(){!l.current&&t&&0!==t.length&&(s.current&&clearTimeout(s.current),m(),l.current=!0,t.forEach(function(e){document.querySelectorAll(e).forEach(function(e){if(e instanceof HTMLElement){var t=document.createElement("div");t.className=(0,o.d)("absolute inset-0 pointer-events-none transition-opacity duration-100 opacity-0",a),t.id="theme-change-animation",t.style.cssText="\n            background-color: #4242421A;\n            border-radius: 4px;\n            margin: ".concat(u?"2px -4px":"-4px",";\n            z-index: 10;\n            opacity: 0;\n            transition: opacity 0.1s ease-in-out;\n          ");var n=e.parentElement;n&&("static"===window.getComputedStyle(n).position&&(n.style.position="relative"),n.insertBefore(t,e),c.current.push(t))}})}),c.current.length>0?(setTimeout(function(){c.current.forEach(function(e){e.parentNode&&(e.style.opacity="1")})},10),s.current=setTimeout(function(){c.current.forEach(function(e){e.parentNode&&(e.style.opacity="0")}),setTimeout(function(){m(),l.current=!1},100)},1500)):l.current=!1)},[t,a,m]);return(0,i.useEffect)(function(){if(0!==n&&n!==d.current)return d.current=n,p(),function(){s.current&&clearTimeout(s.current),m(),l.current=!1}},[n]),null}},46514:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i,r=n(47842),o=n(57874),a=(i={},(0,r.Z)(i,o.U.tooSmall,"خیلی کوچک‌تر"),(0,r.Z)(i,o.U.small,"کمی کوچک‌تر"),(0,r.Z)(i,o.U.fit,"مطابق انتظار"),(0,r.Z)(i,o.U.big,"کمی بزرگ‌تر"),(0,r.Z)(i,o.U.tooBig,"خیلی بزرگ‌تر"),i)},57874:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var i={tooSmall:"tooSmall",small:"small",fit:"fit",big:"big",tooBig:"tooBig"}},67576:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var i=n(66383),r=n(2784);function o(){var e=(0,i.Z)((0,r.useState)(0),2),t=e[0],n=e[1];return{animationTrigger:t,triggerAnimation:(0,r.useCallback)(function(){n(function(e){return e+1})},[])}}},65708:function(e,t,n){"use strict";n.d(t,{OQ:function(){return r},b$:function(){return i},dk:function(){return o}}),n(8108);var i={COMMENTS:"comments",QUESTIONS:"questions",SPECIFICATIONS:"specifications",INTRODUCTION:"introduction",LIKE:"like",SHARE:"share",ADD_TO_LIST:"add_to_list",NOTIFICATION:"notification",PRICE_CHART:"price_chart",COMPARISON:"comparison"},r={CLICK:"click",SCROLL:"scroll",TOUCH_POINT_CLICK:"touch_point_click"};function o(e){e.productId,e.sectionName,e.navigationType,e.isShowMore}},74808:function(e,t,n){"use strict";n.d(t,{$H:function(){return v},CP:function(){return p},DP:function(){return N},Di:function(){return C},F3:function(){return j},Fg:function(){return h},HB:function(){return S},JT:function(){return m},Pw:function(){return b},Rx:function(){return d},Tp:function(){return c},W5:function(){return f},ZW:function(){return u},fP:function(){return x},h$:function(){return l},hj:function(){return _},qE:function(){return y},sM:function(){return T},vl:function(){return s},w2:function(){return g},y0:function(){return I},y6:function(){return w}});var i=n(8108),r=n(43287);function o(e){var t=e.widgetName,n=e.itemClickedId;(0,i.N)({name:"widget_click",body:{version:2,page_type:(0,r.C)(),widget_name:t,clicked_item_name:n}})}function a(e){var t=e.widgetName,n=e.itemClickedId,o=e.productId;(0,i.N)({name:"widget_click",body:{version:2,page_type:(0,r.C)(),widget_name:t,clicked_item_name:n,page_info:{productId:o}}})}function s(e){var t=e.productId;(0,i.N)({name:"widget_click",body:{version:2,page_type:(0,r.C)(),widget_name:"comment_section_view",clicked_item_name:"comment_section_view",page_info:{productId:t}}})}function c(e){o({itemClickedId:e.productId,widgetName:"open_comment"})}function l(e){o({itemClickedId:e.productId,widgetName:"submit_comment"})}function d(e){o({itemClickedId:e.orderId,widgetName:e.isFilled?"open_psat_filled":"open_psat_void"})}function u(e){o({itemClickedId:e.orderId,widgetName:"submit_psat"})}function m(e){a({itemClickedId:"sort_options",widgetName:"comment_sort_options",productId:e.productId})}function p(e,t){a({itemClickedId:e,widgetName:"comment_sort",productId:t})}function f(e){a({itemClickedId:e.itemId,widgetName:"comment_intent",productId:e.productId})}function v(e){a({itemClickedId:e.placement,widgetName:"comment_carousel_click",productId:e.productId})}function h(e){a({itemClickedId:e.type,widgetName:"comment_feedback",productId:e.productId})}function x(e){a({itemClickedId:e.sellerCode,widgetName:"comment_seller",productId:e.productId})}function g(e){a({itemClickedId:e.type,widgetName:"comment_gallery",productId:e.productId})}function b(e){a({itemClickedId:e.type,widgetName:"comment_show",productId:e.productId})}function I(e){a({itemClickedId:e.type,widgetName:"qa_show",productId:e.productId})}function w(e){a({itemClickedId:e.type,widgetName:"qa_feedback",productId:e.productId})}function _(e){a({itemClickedId:"sort_options",widgetName:"qa_sort_options",productId:e.productId})}function y(e,t){a({itemClickedId:e,widgetName:"qa_sort",productId:t})}function j(e){a({widgetName:"comments_overview_click",itemClickedId:"carousel_TP",productId:e.productId})}function N(e,t){a({widgetName:"comments_overview_feedback",itemClickedId:e,productId:t})}function S(e){a({widgetName:"comments_overview_close",itemClickedId:"PDP_TP",productId:e.productId})}function C(e){a({widgetName:"comments_overview_click",itemClickedId:"PDP_TP",productId:e.productId})}function T(e){a({widgetName:"comments_overview_close",itemClickedId:"click",productId:e.productId})}},2213:function(e,t,n){"use strict";n.d(t,{T:function(){return p}});var i=n(70865),r=n(96670),o=n(59800),a=n(52126),s=n(95976),c=n(73587),l=n(96992),d=n(82382),u=n(63431),m=n(56170);function p(e){var t,n,p=e.data||{},f=p.id,v=p.is_anonymous,h=p.title,x=p.body,g=p.created_at,b=p.relative_date,I=p.rate,w=p.reactions,_=p.files,y=p.status,j=p.recommendation_status,N=p.is_buyer,S=p.user_name,C=p.user_reactions,T=p.purchased_item,k=p.advantages,R=p.disadvantages,O=p.rates,E=p.true_to_size_rate,D=p.product,P=p.order_item_id,z=p.social_profile,A=p.contribution_badge,Z=p.repeat_purchase_badge,L=w||{},V=L.likes,U=L.dislikes,M=T||{},F=M.seller,B=M.color,H=M.size,q=(0,d.N)({prefix:"commentPurchasedItem",data:F}),W=(0,d.N)({data:F}),G=(0,a.n)({prefix:"commentPurchasedItem",data:B}),K=(0,a.n)({data:B}),J=H?(0,u.E)({prefix:"commentPurchasedItem",data:H}):{},Q=(0,u.E)({data:H}),$=(0,c.r)({prefix:"comment",data:D}),X=(0,c.r)({data:D}),Y=(null==_?void 0:_.map(function(e){return(0,s.w)({data:e})}))||[],ee=(0,l.l)({data:null==I?void 0:null===(t=I.toFixed)||void 0===t?void 0:t.call(I,1)});return(0,r.Z)((0,i.Z)((0,r.Z)((0,i.Z)((0,r.Z)((0,i.Z)((0,r.Z)((0,i.Z)({commentId:f,commentIsAnonymous:!!v,commentTitle:h,commentBody:x,commentCreatedAt:g,commentRelativeDate:b,commentRating:ee,commentRate:null==I?void 0:null===(n=I.toFixed)||void 0===n?void 0:n.call(I,1),commentReactions:{likes:V,dislikes:U},commentOrderItemId:P,commentReactionsLikes:V,commentReactionsDislikes:U,commentFiles:Y,commentStatus:y,commentRecommendationStatus:j,commentTrueToSizeRate:E,commentIsBuyer:!!N,commentUserName:S,commentUserReactions:C},q),{commentItemSeller:W}),G),{commentItemColor:K}),J),{commentItemSize:Q,commentAdvantages:k,commentDisadvantages:R,commentRates:O}),$),{commentProduct:X,commentSocialProfile:(0,m.T)({data:z}),commentContributionBadge:(0,o.I)({data:A}),commentRepeatPurchaseBadge:{repeatPurchaseBadgeText:(Z||{}).text}})}},59800:function(e,t,n){"use strict";function i(e){var t=e.data||{},n=t.text,i=t.text_color;return{contributionBadgeText:n,contributionBadgeBgColor:t.bg_color,contributionBadgeTextColor:i,contributionBadgeTooltipText:t.tooltip_text}}n.d(t,{I:function(){return i}})},45507:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var i=n(59800),r=n(95976),o=n(73587),a=n(56170);function s(e){var t=e.data||{},n=t.id,s=t.text,c=t.answer_count,l=t.created_at,d=t.answers,u=t.status,m=t.product;return{questionId:n,questionText:s,questionAnswerCount:c,questionCreatedAt:l,questionStatus:u,questionProduct:(0,o.r)({data:m}),questionAnswers:null==d?void 0:d.map(function(e){var t,n,o,s,c,l,d,u,m,p,f,v,h,x,g,b;return o=(n=e||{}).id,s=n.has_qa_badge,c=n.text,l=n.reactions,d=n.created_at,u=n.sender,m=n.type,p=n.user_reaction,f=n.files,v=n.social_profile,h=n.contribution_badge,g=(x=l||{}).likes,b=x.dislikes,{questionAnswerId:o,questionAnswerHasQABadge:!!s,questionAnswerText:c,questionAnswerReactions:{likes:(t=l||{}).likes,dislikes:t.dislikes},questionAnswerCreatedAt:d,questionAnswerSender:u,questionAnswerType:m,questionAnswerUserReaction:p,questionAnswerSocialProfile:(0,a.T)({data:v}),questionAnswerContributionBadge:(0,i.I)({data:h}),questionAnswerMedias:(void 0===f?[]:f).map(function(e){return(0,r.w)({data:e})}),questionAnswerReactionsLikes:g,questionAnswerReactionsDisLikes:b}})}}},95976:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var i=n(61695);function r(e){var t=e.data||{},n=t.storage_ids,r=t.url,o=t.temporary_id,a=t.thumbnail_url;return{mediaStorageIds:n||[],mediaUrl:null==r?void 0:r[0],mediaTemporaryId:o,mediaThumbnailUrl:(null==a?void 0:a[0])||"",mediaType:function(e){var t,n,r,o;if(!e)return i.L.UNKNOWN;switch(null===(t=/(\w+)\.([1-9A-Za-z]{3,4})(?=\?|$)/.exec(e))||void 0===t?void 0:null===(n=t.slice)||void 0===n?void 0:null===(r=n.call(t,-1))||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.toLowerCase()){case"jpg":case"jpeg":case"svg":case"png":return i.L.IMAGE;case"mp4":case"mkv":case"webm":return i.L.VIDEO;default:return i.L.UNKNOWN}}(null==r?void 0:r[0])}}},35825:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var i=n(73587);function r(e){var t=e.data||{},n=t.title,r=t.products;return{recommendationTitle:n,recommendationProducts:(null==r?void 0:r.map(function(e){return(0,i.r)({data:e})}))||[]}}},56170:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var i=n(70582);function r(e){var t=e.data||{},n=t.name,r=t.username,o=t.photo;return{socialName:n,socialUsername:r,socialProfileImage:(0,i.W)({data:o})}}},6662:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var i=n(27529),r=n(58449);function o(e){if(!(0,r.k)(e))return(0,i.H)("".concat(e).replace("dkp-",""))}},44217:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(58449);function r(e,t){return(0,i.k)(e)?"":e.length<t?e:"".concat(e.slice(0,Math.max(0,t))," ...")}},46100:function(e,t,n){"use strict";n.d(t,{RH:function(){return i.RH},cu:function(){return i.cu}});var i=n(59198)},31964:function(e){e.exports={InfoSectionTitle__badge:"styles_InfoSectionTitle__badge__mnCn9"}},59810:function(e){e.exports={progress:"styles_progress__78otk"}},46635:function(e){e.exports={InfoSectionVariationColorContent__main:"styles_InfoSectionVariationColorContent__main__XNYmk",InfoSectionVariationColorContent__iconWrapper:"styles_InfoSectionVariationColorContent__iconWrapper__oeW2y",InfoSectionVariationColorContent__unavailable:"styles_InfoSectionVariationColorContent__unavailable__UznkA"}},32373:function(e){e.exports={InfoSectionVariationColor:"styles_InfoSectionVariationColor__FmtfU",InfoSectionVariationColor__selected:"styles_InfoSectionVariationColor__selected__1Ve3N",InfoSectionVariationColor__unavailable:"styles_InfoSectionVariationColor__unavailable__j2Qk_",InfoSectionVariationColor__unavailable_line:"styles_InfoSectionVariationColor__unavailable_line__vo8lN"}},30459:function(e){e.exports={VariantInfo__summeryBage:"styles_VariantInfo__summeryBage__cZ3DA"}},46188:function(e){e.exports={bodyBg:"styles_bodyBg__oM_9Q"}},50633:function(){}}]);
